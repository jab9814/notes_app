<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear una nueva nota</title>
</head>
<body>
    <h1>Crear una nueva nota</h1>

    {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
        <ul>
            {% for category, message in messages %}
                <li class="{{ category }}">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
    {% endwith %}
    
    <form method="post">
        <label for="assigned_to">Asignado a</label>
        <input type="text" name="assigned_to" id="assigned_to" value="{{ form_data.assigned_to if form_data else '' }}" required>
        <br><br>
        
        <label for="title">Titulo</label>
        <input type="text" name="title" id="title" value="{{ form_data.title if form_data else '' }}" required>
        <br><br>
        
        <label for="content">Contenido</label>
        <textarea name="content" id="content" required>{{ form_data.content if form_data else '' }}</textarea>
        <br><br>
        
        <label for="status">Estado</label>
        <select name="status" id="status" required>
            <option value="Stand_by" {% if not form_data or form_data.status == 'Stand_by' %}selected{% endif %}>Stand by</option>
            <option value="Pending" {% if form_data and form_data.status == 'Pending' %}selected{% endif %}>Pending</option>
            <option value="Progress" {% if form_data and form_data.status == 'Progress' %}selected{% endif %}>Progress</option>
            <option value="Done" {% if form_data and form_data.status == 'Done' %}selected{% endif %}>Done</option>
            <option value="Failed" {% if form_data and form_data.status == 'Failed' %}selected{% endif %}>Failed</option>
        </select>
        <br><br>
        
        <label for="start_date">Fecha de inicio</label>
        <input type="date" name="start_date" id="start_date" value="{{ form_data.start_date if form_data else '' }}" required min="2024-01-01">
        <br><br>
        
        <label for="end_date">Fecha de finalizaci√≥n</label>
        <input type="date" name="end_date" id="end_date" value="{{ form_data.end_date if form_data else '' }}" required min="2024-01-01">
        <br><br>
        
        <input type="submit" value="Crear Nota">
    </form>
</body>
</html>